# Variables used to define Phoenix Resource Locations
# Used by Build scripts to create needed files in expected locations

###########################################
## UPDATE THESE BASED ON YOUR LOCAL ENVIRONMENT
###########################################

# Set your environment variable (MUST BE ONE OF "TGen" or "LOCAL"
ENVIRONMENT=TGen
#ENVIRONMENT=LOCAL

# Define input and output directories
REF_DIR=/home/tgenref
PARENT_DIR=/home/tgenref/homo_sapiens/t2t_chm13
TOPLEVEL_DIR=/home/tgenref/homo_sapiens/t2t_chm13/chm13_v2.0
PATH_TO_REPO=/home/tgenjetstream/git_repositories/jetstream_resources
CREATOR=jkeats

# To automate COSMIC download we use their token download but you must have a valid account (https://cancer.sanger.ac.uk/cosmic/login)
# The associated script will ask for your password during execution
COSMIC_ACCOUNT_EMAIL=jkeats@tgen.org

## WARNING!!!
## PLEASE UPDATE THESE VARIABLES TO SUPPORT LOCAL BUILD
# Set the number of local compute cores to leverage threading options for some steps
LOCAL_COMPUTE_CORES=20
# snpEff.jar (https://sourceforge.net/projects/snpeff/files/snpEff_v4_3t_core.zip/download)
SNPEFF=/packages/snpEff/snpEff_v4_3t_core/snpEff/snpEff.jar
# NCBI eUTILs PATH (https://www.ncbi.nlm.nih.gov/books/NBK179288/)
EUTILS_PATH=/home/jkeats/downloads/edirect/
# JSON.awk (https://github.com/step-/JSON.awk/archive/1.3.tar.gz)
JSON_AWK=/home/jkeats/downloads/JSON.awk-1.3/JSON.awk
# UCSC gtfToGenePred binary (http://hgdownload.cse.ucsc.edu/admin/exe/linux.x86_64/gtfToGenePred)
GTFTOGENEPRED_BINARY=/home/tgenref/binaries/gtfToGenePred/gtfToGenePred
# faToTwoBit (rsync -aP rsync://hgdownload.soe.ucsc.edu/genome/admin/exe/linux.x86_64/faToTwoBit .)
FATOTWOBIT=/home/tgenref/binaries/faToTwoBit/faToTwoBit


###########################################
##  Common Variables
###########################################

WORKFLOW_NAME=grandcanyon
GENOME_SUBVERSION_NAME=chm13_v2.0
SPECIES="Homo sapiens"


###########################################
##  Required Modules and Containers
###########################################

BOWTIE2_MODULE="Bowtie2/2.3.5.1-GCC-8.2.0-2.31.1"
BOWTIE2_VERSION="2.3.5.1"

BWA_VERSION="0.7.17"
BWA_MEM2_VERSION="2.2.1"

GATK_MODULE="GATK/4.1.4.0-GCCcore-8.2.0-Java-1.8-devel"

SAMTOOLS_VERSION="SAMtools/1.10-GCC-8.2.0-2.31.1"

STAR_VERSION="2.7.5a"

SALMON_VERSION="1.2.1-gompi-2019a"
SALMON_TYPE="puff"

SNPEFF_VERSION="v4_3t"
SNPEFF_DB_NAME=grch38.103

CELLRANGER_VERSION="3.1.0"

DEEPVARIANT_VERSION="v1.4.0"

MSISENSOR_PRO_VERSION="1.1.a"
MSISENSOR_PRO_MODULE="MSIsensor/1.1.a-GCCcore-8.2.0"

RSEM_VERSION="1.3.3"


# singularity pull docker://amazon/aws-cli:2.15.21
AWS_CLI_SIF=/home/tgenref/containers/aws-cli_2.15.21.sif
MINIMAP2_SIF=/home/tgenref/containers/minimap2-samtools_2.26_1.18.sif
SAMTOOLS_SIF=/home/tgenref/containers/minimap2-samtools_2.26_1.18.sif

# singularity pull https://data.broadinstitute.org/Trinity/CTAT_SINGULARITY/STAR-Fusion/star-fusion.v1.13.0.simg
STAR_SIMG=/scratch/jkeats/star-fusion.v1.13.0.simg

###########################################
##  Reference Genome Index Variables
###########################################

GENOME_SOURCE=T2T

# Downloaded bgzip compressed reference fasta directly from T2T Consortium AWS bucket.
GENOME_FASTA_DOWNLOAD_LINK=s3://human-pangenomics/T2T/CHM13/assemblies/analysis_set/chm13v2.0_maskedY_rCRS.fa.gz
# For T2T the MD5 is provided as text on the github site (https://github.com/marbl/CHM13)
GENOME_FASTA_MD5=b17cd2bdd8eb5544e195d6a8882e417b

# Downloaded bgzip compressed reference fasta index directly from T2T Consortium AWS bucket.
GENOME_FASTA_INDEX_DOWNLOAD_LINK=s3://human-pangenomics/T2T/CHM13/assemblies/analysis_set/chm13v2.0_maskedY_rCRS.fa.gz.gzi
# There is no provided MD5sum

REFERENCE_DNA_GENOME_NAME=chm13v2.0_maskedY_rCRS.fa
REFERENCE_RNA_GENOME_NAME=chm13v2.0_maskedY_rCRS.fa
GENOME_ASSEMBLY_NAME=T2T_CHM13
GENOME_SUBVERSION_NAME=T2T_CHM13_v2.0


###########################################
##  Gene Model Variables
###########################################

# This is a bit of a mess
# We will pull the default GTF from ensembl rapid release server
# This is a lift-over of Gencode 38 and ensembl v110 so it does not include rRNA 45S arrays encoding 18S and 28S species
## Ensembl annotation of the human assemblies has been produced via a new mapping pipeline:
## 1. A subset of the GENCODE 38 genes and transcripts have been annotated on each of the haploid assemblies. The subset excludes readthrough genes and genes on patches or haplotypes.
## 2. For each gene, anchor sequences built from the surrounding region were used to locate the most likely corresponding region(s) in the target genome. A pairwise alignment of the reference and target regions was then carried out and used to map the exon coordinates and other features of the gene.
## 3. In addition to the primary mapping, potential recent duplications and collapsed paralogues were identified by aligning canonical transcripts across the entire genome and searching for new mappings that did not overlap existing annotations.
## For more details on the annotation process, please refer to the preprint publication (see “Methods” section: “Ensembl Mapping Pipeline for Assembly Annotation”).
## https://www.biorxiv.org/content/10.1101/2022.07.09.499321v1

GENE_MODEL_SOURCE=ensembl_rapidRelease
GENE_MODEL_NAME=gencode_v38_liftover
GENE_MODEL_DOWNLOAD_LINK=https://ftp.ensembl.org/pub/rapid-release/species/Homo_sapiens/GCA_009914755.4/ensembl/geneset/2022_07/Homo_sapiens-GCA_009914755.4-2022_07-genes.gtf.gz
GENE_MODEL_MD5_DOWNLOAD_LINK=https://ftp.ensembl.org/pub/rapid-release/species/Homo_sapiens/GCA_009914755.4/ensembl/geneset/2022_07/md5sum.txt
# CHECK THIS VARIABLE BELOW
GENE_MODEL_FILENAME=Homo_sapiens-GCA_009914755.4-2022_07-genes.gtf

TRANSCRIPT_FASTA_DOWNLOAD_LINK=https://ftp.ensembl.org/pub/rapid-release/species/Homo_sapiens/GCA_009914755.4/ensembl/geneset/2022_07/Homo_sapiens-GCA_009914755.4-2022_07-cdna.fa.gz

###########################################
##  Disease Specific Variables
###########################################

DISEASE_NAME=myeloma
DISEASE_RESOURCE_FILE=https://raw.githubusercontent.com/tgen/MMRF_CoMMpass/master/immunoglobulin_transcripts/Homo_sapiens_GRCh37_74_ig_ENST_to_filter_out.tsv


###########################################
##  VEP Database Variables
###########################################
ENSEMBL_VERSION="87"
ENSEMBL_DATABASE="homo_sapiens_core_87_37"
ENSEMBL_PORT="3337"

# Need to check but this should be ensembl 87 release on GRCh37 coordinates but compatible with VEP v98
VEP_CACHE_DOWNLOAD_LINK=ftp://ftp.ensembl.org/pub/release-98/variation/vep/homo_sapiens_vep_98_GRCh37.tar.gz
VEP_CACHE_MD5_DOWNLOAD_LINK=ftp://ftp.ensembl.org/pub/release-98/variation/vep/CHECKSUMS


###########################################
##  GATK CNV Variables
###########################################
GENOME_BUILD="Homo_sapiens.GRCh37"
LAST_PRIMARY_CONTIG="Y"


###########################################
##  snpSniffer Variables
###########################################
SNPSNIFFER_POSITION_TABLE=https://raw.githubusercontent.com/tgen/snpSniffer/master/t2t_chm13_v1.1_contigs/positions_387_t2t_chm13.txt
SNPSNIFFER_DATABASE=https://raw.githubusercontent.com/tgen/snpSniffer/master/t2t_chm13_v1.1_contigs/databaseV5_t2t_chm13.ini


###########################################
##  Broad Resource Bundle Variables
###########################################
BROAD_BUNDLE_HAPMAP_DOWNLOAD_LINK=ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/b37/hapmap_3.3.b37.vcf.gz
BROAD_BUNDLE_HAPMAP_DOWNLOAD_MD5SUM_LINK=ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/b37/hapmap_3.3.b37.vcf.gz.md5

BROAD_BUNDLE_MILLS_DOWNLOAD_LINK=ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/b37/Mills_and_1000G_gold_standard.indels.b37.vcf.gz
BROAD_BUNDLE_MILLS_MD5SUM_DOWNLOAD_LINK=ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/b37/Mills_and_1000G_gold_standard.indels.b37.vcf.gz.md5

BROAD_BUNDLE_1000G_DOWNLOAD_LINK=ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/b37/1000G_phase1.indels.b37.vcf.gz
BROAD_BUNDLE_1000G_DOWNLOAD_MD5SUM_LINK=ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/b37/1000G_phase1.indels.b37.vcf.gz.md5

BROAD_BUNDLE_1000Gphase3_DOWNLOAD_LINK=ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/b37/1000G_phase3_v4_20130502.sites.vcf.gz
